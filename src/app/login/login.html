
<div class="login-page" @loginAnimation>
  <!-- Header simplifié -->
  <header class="login-header">
    <nav class="navbar">
      <div class="nav-brand">
        <div class="hospital-logo" (click)="navigateToHome()">
          <i class="fas fa-hospital"></i>
          <span>Hôpital Excellence</span>
        </div>
      </div>
      <div class="nav-actions">
        <button class="btn-back" (click)="navigateToHome()">
          <i class="fas fa-arrow-left"></i>
          Retour à l'accueil
        </button>
      </div>
    </nav>
  </header>

  <main class="login-main">
    <div class="login-container">
      <div class="login-card" @formFieldAnimation>
        <div class="login-header">
          <div class="login-icon">
            <i class="fas fa-user-md"></i>
          </div>
          <h1>Connexion</h1>
          <p>Accédez à votre espace patient</p>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <div class="form-group">
            <label for="email">Email</label>
            <div class="input-with-icon">
              <i class="fas fa-envelope"></i>
              <input 
                type="email" 
                id="email" 
                formControlName="email"
                placeholder="votre@email.com"
                [class.error]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
            </div>
            @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
              <div class="error-message">
                @if (loginForm.get('email')?.errors?.['required']) {
                  <span>L'email est requis</span>
                }
                @if (loginForm.get('email')?.errors?.['email']) {
                  <span>Email invalide</span>
                }
              </div>
            }
          </div>

          <div class="form-group">
            <label for="password">Mot de passe</label>
            <div class="input-with-icon">
              <i class="fas fa-lock"></i>
              <input 
                [type]="showPassword ? 'text' : 'password'" 
                id="password" 
                formControlName="password"
                placeholder="Votre mot de passe"
                [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
              <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
                <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
              </button>
            </div>
            @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
              <div class="error-message">
                @if (loginForm.get('password')?.errors?.['required']) {
                  <span>Le mot de passe est requis</span>
                }
                @if (loginForm.get('password')?.errors?.['minlength']) {
                  <span>6 caractères minimum</span>
                }
              </div>
            }
          </div>

          <div class="form-options">
            <label class="checkbox-container">
              <input type="checkbox" formControlName="rememberMe">
              <span class="checkmark"></span>
              Se souvenir de moi
            </label>
            <button type="button" class="link-btn" (click)="navigateToForgotPassword()">
              Mot de passe oublié ?
            </button>
          </div>

          <button 
            type="submit" 
            class="btn-login-submit"
            [disabled]="loginForm.invalid || isLoading">
            @if (isLoading) {
              <i class="fas fa-spinner fa-spin"></i>
            } @else {
              <i class="fas fa-sign-in-alt"></i>
            }
            Se connecter
          </button>
        </form>

        <div class="login-divider">
          <span>Ou</span>
        </div>

        <div class="social-login">
          <button class="btn-social google">
            <i class="fab fa-google"></i>
            Continuer avec Google
          </button>
          <button class="btn-social microsoft">
            <i class="fab fa-microsoft"></i>
            Continuer avec Microsoft
          </button>
        </div>

        <div class="login-footer">
          <p>Pas encore de compte ? <button type="button" class="link-btn" (click)="navigateToRegister()">Créer un compte</button></p>
        </div>
      </div>

      <div class="login-hero">
        <div class="hero-content">
          <h2>Bienvenue à l'Hôpital Excellence</h2>
          <p>Accédez à votre espace patient pour :</p>
          <ul class="features-list">
            <li><i class="fas fa-check-circle"></i> Prendre rendez-vous en ligne</li>
            <li><i class="fas fa-check-circle"></i> Consulter vos résultats d'analyses</li>
            <li><i class="fas fa-check-circle"></i> Communiquer avec votre médecin</li>
            <li><i class="fas fa-check-circle"></i> Gérer vos ordonnances</li>
          </ul>
        </div>
        <div class="hero-image">
          <div class="medical-illustration"></div>
        </div>
      </div>
    </div>
  </main>
</div>